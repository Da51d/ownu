# Chalk Configuration for OwnU
# https://chalkproject.io/docs/
#
# This configuration defines what metadata is captured during builds
# and how it's reported for supply chain security.

# =============================================================================
# Output Configuration
# =============================================================================

# Output chalk reports as JSON
subscribe("report", "json")

# Save reports to file (in addition to stdout)
# report.filename = "chalk-report.json"

# =============================================================================
# Build Provenance Metadata
# =============================================================================

# These keys capture information about when/where/how the artifact was built
# Required for SLSA compliance

# Timestamp of the build
key.BUILD_TIMESTAMP.use = true

# Unique build identifier
key.BUILD_ID.use = true

# Git repository URL
key.ORIGIN_URI.use = true

# Git commit SHA
key.COMMIT_ID.use = true

# Git branch name
key.BRANCH.use = true

# Git tag (if building from a tag)
key.TAG.use = true

# =============================================================================
# SBOM (Software Bill of Materials)
# =============================================================================

# Enable SBOM generation
key.SBOM.use = true

# =============================================================================
# Artifact Identification
# =============================================================================

# Hash of the artifact (for integrity verification)
key.HASH.use = true

# Artifact type (binary, container, etc.)
key.ARTIFACT_TYPE.use = true

# =============================================================================
# Environment Metadata
# =============================================================================

# Build platform/architecture
key.PLATFORM.use = true

# Hostname where build occurred
key.HOSTINFO.use = true

# CI/CD environment detection
key.CI.use = true
key.CI_PLATFORM.use = true

# =============================================================================
# Container-Specific Keys
# =============================================================================

# For Docker builds
key.DOCKER_FILE.use = true
key.DOCKER_CONTEXT.use = true
key.DOCKER_PLATFORM.use = true

# Base image information
key.DOCKER_BASE_IMAGE.use = true
key.DOCKER_BASE_IMAGE_DIGEST.use = true

# =============================================================================
# Security Keys
# =============================================================================

# Code signing information (if available)
key.SIGNER.use = true
key.SIGNATURE.use = true

# Injector information (who/what added the chalk mark)
key.INJECTOR_COMMIT_ID.use = true
key.INJECTOR_VERSION.use = true

# =============================================================================
# Custom Metadata for OwnU
# =============================================================================

# Project-specific custom keys
custom.PROJECT_NAME = "ownu"
custom.PROJECT_URL = "https://github.com/ownu/ownu"
custom.LICENSE = "AGPL-3.0"
